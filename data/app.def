Bootstrap: docker
From: node:20-alpine

%post
    mkdir -p /app/

%files
    ./prisma/* /app/
    ./.gitignore /app/
    ./BaseDbClient.ts /app/
    ./DbClientFactory.ts /app/
    ./package-lock.json /app/
    ./package.json /app/
    ./tsconfig.json /app/

%post
    cd /app/

    apk add --no-cache sqlite
    npm install -g npm@latest
    npm i
    npm run run-once-after-npm-install
    npm run db:migrate

%runscript
    whoami
    ls -l ./
    pwd

%labels
    Author 1nf053c
    Version 1.0
    Description "Container for Node.js and sqlite"
